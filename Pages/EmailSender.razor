@page "/send-email"
@inject IEmailSender emailSender
<h3>Send Email</h3>

<RadzenButton Text="Send" Click="@SendEmail"></RadzenButton>
<p>@Message</p>

@code {
    private string Message { get; set; }

    private async Task SendEmail()
    {
        try
        {
            var receiver = "kadhimohamedrayen@gmail.com";
            var subject = "Test";
            var messageBody = "Hello World";

            // Use the injected service to send the email
            await emailSender.SendEmailAsync(receiver, subject, messageBody);

            Message = "Email sent successfully!";
        }
        catch (Exception ex)
        {
            Message = $"Error: {ex.Message}";
        }
    }
}